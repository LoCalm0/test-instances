{
  "author" : "LoCalm",
  "version" : "1.2.8",
  "userSecure" : "",
  "currTypeMapperGroupName" : "Default",
  "currTemplateGroupName" : "cloud",
  "currColumnConfigGroupName" : "Default",
  "currGlobalConfigGroupName" : "Default",
  "typeMapper" : { },
  "template" : {
    "cloud" : {
      "name" : "cloud",
      "elementList" : [ {
        "name" : "controller.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Controller\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/controller\"))\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}controller;\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.github.xiaoymin.knife4j.annotations.ApiOperationSupport;\nimport com.imtristone.core.boot.ctrl.BladeController;\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name}Entity;\nimport $!{tableInfo.savePackageName}.service.I$!{tableInfo.name}Service;\nimport $!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO;\nimport $!{tableInfo.savePackageName}.wrapper.$!{tableInfo.name}Wrapper;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport io.swagger.annotations.ApiParam;\nimport lombok.AllArgsConstructor;\nimport org.springblade.core.log.annotation.ApiLog;\nimport org.springblade.core.mp.support.Query;\nimport org.springblade.core.tool.api.R;\nimport org.springframework.web.bind.annotation.*;\nimport springfox.documentation.annotations.ApiIgnore;\n\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * $!{tableInfo.comment} 表控制层\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\n@RestController\n@AllArgsConstructor\n@RequestMapping(\"/$!tool.firstLowerCase($tableInfo.name)\")\n@Api(value = \"$!{tableInfo.comment}\", tags = \"$!{tableInfo.comment}接口\")\npublic class $!{tableName} extends BladeController {\n\n    private I$!{tableInfo.name}Service service;\n\n\n    @GetMapping(\"/detail\")\n    @ApiLog(\"$!{tableInfo.comment}-详情\")\n    @ApiOperation(value = \"详情\")\n    @ApiOperationSupport(order = 1)\n    public R<$!{tableInfo.name}VO> detail($!{tableInfo.name}Entity entity) {\n        return R.data($!{tableInfo.name}Wrapper.build().entityVO(service.getId(entity.getId())));\n    }\n\n    @GetMapping(\"/page\")\n    @ApiLog(\"$!{tableInfo.comment}-分页\")\n    @ApiOperation(value = \"分页\")\n    @ApiOperationSupport(order = 2)\n    public R<IPage<$!{tableInfo.name}VO>> page(@ApiIgnore @RequestParam Map<String, Object> params, Query query) {\n        return R.data($!{tableInfo.name}Wrapper.build().pageVO(service.getPage(query, params)));\n    }\n\n    @PostMapping(\"/submit\")\n    @ApiLog(\"$!{tableInfo.comment}-新增或修改\")\n    @ApiOperationSupport(order = 3)\n    @ApiOperation(value = \"新增或修改\")\n    public R<Boolean> submit(@RequestBody $!{tableInfo.name}Entity entity) {\n        return R.status(service.saveOrUpdate(entity));\n    }\n\n    @PostMapping(\"/remove\")\n    @ApiLog(\"$!{tableInfo.comment}-删除\")\n    @ApiOperation(value = \"删除\")\n    @ApiOperationSupport(order = 4)\n    public R<Boolean> remove(@ApiParam(value = \"主键集合\", required = true) @RequestParam List<Long> ids) {\n        return R.status(service.delete(ids));\n    }\n\n}\n"
      }, {
        "name" : "wrapper.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Wrapper\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/wrapper\"))\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}wrapper;\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport $!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO;\nimport com.imtristone.format.utils.FormatUtil;\n\n/**\n * $!{tableInfo.comment} 包装类,返回视图层所需的字段\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\npublic class $!{tableName} {\n\n    public static $!{tableInfo.name}Wrapper build() {\n        return new $!{tableInfo.name}Wrapper();\n    }\n\n    public $!{tableInfo.name}VO entityVO($!{tableInfo.name}VO entity) {\n        return FormatUtil.format(entity);\n    }\n\n    public IPage<$!{tableInfo.name}VO> pageVO(IPage<$!{tableInfo.name}VO> pages) {\n        if (pages == null) return null;\n        return pages.setRecords(FormatUtil.format(pages.getRecords()));\n    }\n\n}\n"
      }, {
        "name" : "service.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Service\"))\n##设置回调\n$!callback.setFileName($tool.append(\"I\",$tool.append($tableName, \".java\")))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/service\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service;\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name}Entity;\nimport $!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO;\nimport org.springblade.core.mp.base.BizService;\nimport org.springblade.core.mp.support.Query;\n\nimport java.util.Map;\n\n/**\n * $!{tableInfo.comment} 服务类\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\npublic interface I$!{tableName} extends BizService<$!{tableInfo.name}Entity> {\n\n    IPage<$!{tableInfo.name}VO> getPage(Query query, Map<String, Object> params);\n\n    $!{tableInfo.name}VO getId(Long id);\n}\n"
      }, {
        "name" : "serviceImpl.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"ServiceImpl\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/service/impl\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service.impl;\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name}Entity;\nimport $!{tableInfo.savePackageName}.mapper.$!{tableInfo.name}Mapper;\nimport $!{tableInfo.savePackageName}.service.I$!{tableInfo.name}Service;\nimport $!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO;\nimport org.springblade.core.mp.base.BizServiceImpl;\nimport org.springblade.core.mp.support.Condition;\nimport org.springblade.core.mp.support.Query;\nimport org.springblade.core.tool.constant.BladeConstant;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Map;\n\n/**\n * $!{tableInfo.comment} 服务实现类\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\n@Service\npublic class $!{tableName} extends BizServiceImpl<$!{tableInfo.name}Mapper, $!{tableInfo.name}Entity> implements I$!{tableInfo.name}Service {\n\n    @Override\n    public IPage<$!{tableInfo.name}VO> getPage(Query query, Map<String, Object> params) {\n        return baseMapper.getPage(Condition.getPage(query), Condition.getQueryWrapper(params, $!{tableInfo.name}Entity.class), BladeConstant.DB_NOT_DELETED);\n    }\n\n    @Override\n    public $!{tableInfo.name}VO getId(Long id) {\n        return baseMapper.getId(id, BladeConstant.DB_NOT_DELETED);\n    }\n\n}\n"
      }, {
        "name" : "mapper.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Mapper\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/mapper\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}mapper;\n\nimport com.baomidou.mybatisplus.core.conditions.Wrapper;\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name}Entity;\nimport $!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO;\nimport org.apache.ibatis.annotations.Param;\n\n/**\n * $!{tableInfo.comment} Mapper 接口\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\npublic interface $!{tableInfo.name}Mapper extends BaseMapper<$!{tableInfo.name}Entity> {\n\n    IPage<$!{tableInfo.name}VO> getPage(IPage<$!{tableInfo.name}VO> page, @Param(\"ew\") Wrapper<$!{tableInfo.name}Entity> queryWrapper, @Param(\"isDeleted\") int isDeleted);\n\n    $!{tableInfo.name}VO getId(@Param(\"id\") Long id, @Param(\"isDeleted\") int dbNotDeleted);\n    \n}\n"
      }, {
        "name" : "mapper.xml.vm",
        "code" : "##引入mybatis支持\n$!{mybatisSupport.vm}\n\n##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Mapper\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".xml\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/mapper\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"$!{tableInfo.savePackageName}.mapper.$!{tableInfo.name}Mapper\">\n  \n    <sql id=\"getPage\">\n        SELECT #foreach($column in $tableInfo.fullColumn)$tool.hump2Underline($!{column.name})#if($foreach.count != $tableInfo.fullColumn.size()), #end#end FROM $tool.hump2Underline(${tableInfo.name})\n    </sql>\n\n    <select id=\"getPage\" resultType=\"$!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO\">\n        <include refid=\"getPage\" />\n        ${ew.customSqlSegment}\n    </select>\n\n    <select id=\"getId\" resultType=\"$!{tableInfo.savePackageName}.vo.$!{tableInfo.name}VO\">\n        <include refid=\"getPage\" />\n        WHERE id = #{id}\n    </select>\n\n\n</mapper>\n"
      }, {
        "name" : "entity.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Entity\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/entity\"))\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}entity;\n\n##使用全局变量实现默认包导入\nimport com.baomidou.mybatisplus.annotation.TableName;\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport org.springblade.core.mp.base.BizEntity;\n\n$!{autoImport.vm}\n\n/**\n * $!{tableInfo.comment} 实体类\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\n@Data\n@TableName(\"$!{tableInfo.name}\")\n@ApiModel(value = \"$!{tableInfo.name}对象\", description = \"$!{tableInfo.comment}\")\n@EqualsAndHashCode(callSuper = true)\npublic class $!{tableName}  extends BizEntity {\n\n#foreach($column in $tableInfo.fullColumn)\n\t@ApiModelProperty(\"${column.comment}\")\n    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};\n#end\n\n#foreach($column in $tableInfo.fullColumn)\n#end\n\n}\n"
      }, {
        "name" : "vo.java.vm",
        "code" : "##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"VO\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/vo\"))\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}vo;\n\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name}Entity;\nimport lombok.EqualsAndHashCode;\nimport lombok.Data;\n\n/**\n * $!{tableInfo.comment} 视图实体类\n *\n * @author $!author\n * @since $!time.currTime(\"yyyy-MM-dd\")\n */\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class $!{tableName} extends $!{tableInfo.name}Entity {\n}\n"
      } ]
    }
  },
  "columnConfig" : { },
  "globalConfig" : { }
}